var arr_el_input_colors=document.querySelectorAll(".color-input"),arr_el_undo=document.querySelectorAll(".undo"),arr_el_labels=document.querySelectorAll(".number-label"),el_digit_wrap=document.getElementById("digits"),el_range_bg=document.getElementById("bg"),el_check_usebg=document.getElementById("usebg"),options={colors:["#888888","#000000","#67a4ff","#fb1515","#0c52ef","#18713c","#5a0eaf","#f5970c","#000080","#6b0000","none"],active:!0,usebg:!1,background:0},cachedColors=options.colors;function handleClickUndo(o){if("undo active"==o.target.className){var e=o.target.id.substring(1);arr_el_input_colors[e].value=cachedColors[e],updateColor(e,cachedColors[e])}}function handleColorInput(o){updateColor(o.target.id.substring(1),o.target.value)}function updateColor(o,e){options.colors[o]=e,chrome.storage.sync.set(options),arr_el_labels[o].style.color=e,arr_el_undo[o].className=cachedColors[o]==e?"undo":"undo active"}function isDarkColor(o){var e=parseInt(o.substring(1),16);return(255&e)+(e>>>8&255)+(e>>>16&255)<500}document.addEventListener("DOMContentLoaded",function(){chrome.storage.sync.get(options,function(o){cachedColors=(options=o).colors.slice(),el_check_usebg.checked=options.usebg,el_range_bg.value=""+(255-options.background);for(var e=0;e<10;++e)arr_el_input_colors[e].value=cachedColors[e],arr_el_labels[e].style.color=cachedColors[e],arr_el_undo[e].style.background=cachedColors[e],arr_el_undo[e].style.color=isDarkColor(cachedColors[e])?"#fff":"#000";document.body.style.background=cachedColors[10]})}),el_digit_wrap.addEventListener("change",handleColorInput),el_digit_wrap.addEventListener("click",handleClickUndo),document.getElementById("bgwrap").addEventListener("change",function(o){options.usebg=el_check_usebg.checked,options.background=255-parseInt(el_range_bg.value),options.colors[10]=options.usebg?"rgb("+options.background+","+options.background+","+options.background+")":"none",chrome.storage.sync.set(options),document.body.style.background=options.colors[10]});